═══════════════════════════════════════════════════════════════════════════════
  🎉 НОВАЯ РАСШИРЕННАЯ ВЕРСИЯ ДАШБОРДА!
═══════════════════════════════════════════════════════════════════════════════

✨ ЧТО ДОБАВЛЕНО?

Создана расширенная версия дашборда с фильтрами и детальной аналитикой!

Теперь у вас есть 3 варианта:
  1. Базовый дашборд - общая аналитика
  2. Расширенный дашборд - фильтры и детализация ⭐ НОВОЕ!
  3. HTML отчет - статический файл

═══════════════════════════════════════════════════════════════════════════════

🎯 РАСШИРЕННАЯ ВЕРСИЯ ПОЗВОЛЯЕТ:

✅ Выбирать каждый контракт из списка
   └─ Видеть ВСЕ контракты в dropdown меню

✅ Видеть даты контракта
   └─ 📅 Начало контракта
   └─ 📅 Конец контракта
   └─ 📊 Статус (действующий/завершенный)
   └─ 🏪 Торговая сеть

✅ Фильтровать данные
   └─ По контракту
   └─ По торговой сети
   └─ По SKU (Brand_format)

✅ Видеть все плановые и фактические расходы
   └─ Листинг/безусловные выплаты
   └─ Скидка в цене
   └─ Ретро
   └─ Маркетинг
   └─ Промо-скидка
   └─ Фонды

✅ Детальная таблица по SKU
   └─ Все показатели для каждого SKU
   └─ Сортировка по любому столбцу
   └─ Фильтрация данных
   └─ 📥 Экспорт в Excel!

═══════════════════════════════════════════════════════════════════════════════

🚀 КАК ЗАПУСТИТЬ?

Способ 1 (Самый простой):
─────────────────────────
1. Дважды кликните: start.bat
2. Выберите пункт: 2
3. Откройте браузер: http://localhost:8051

Способ 2 (Быстрый запуск):
──────────────────────────
1. Дважды кликните: run_dashboard_advanced.bat
2. Откройте браузер: http://localhost:8051

Способ 3 (Командная строка):
───────────────────────────
1. python bi_dashboard_advanced.py
2. Откройте браузер: http://localhost:8051

ВАЖНО: Порт 8051 (не 8050!)

═══════════════════════════════════════════════════════════════════════════════

📊 КАК ИСПОЛЬЗОВАТЬ?

Шаг 1: Выберите контракт
─────────────────────────
В верхней части страницы есть dropdown "Выберите контракт"
Выберите нужный контракт из списка (или оставьте "ВСЕ КОНТРАКТЫ")

Шаг 2: Смотрите информацию о контракте
───────────────────────────────────────
После выбора контракта появится карточка:
  📄 Название контракта
  🏪 Сеть
  📅 Начало: DD.MM.YYYY
  📅 Конец: DD.MM.YYYY
  📊 Статус: действующий/завершенный

Шаг 3: Анализируйте данные
──────────────────────────
Все данные на странице обновятся для выбранного контракта:
  • KPI карточки
  • Графики план/факт
  • Детализация затрат
  • Таблица по SKU

Шаг 4: Фильтруйте по SKU
─────────────────────────
Дополнительно можете выбрать конкретный SKU (Brand_format)
Все данные обновятся для этого SKU в рамках контракта

Шаг 5: Экспортируйте данные
────────────────────────────
1. Пролистайте до таблицы "Детальная разбивка по SKU"
2. Нажмите кнопку "Export" (справа вверху таблицы)
3. Выберите формат "xlsx"
4. Таблица сохранится в Excel файл!

═══════════════════════════════════════════════════════════════════════════════

📋 ЧТО ПОКАЗЫВАЕТ ТАБЛИЦА?

Для каждого SKU (Brand_format) показывается:

Продажи:
  • Плановые продажи, шт
  • Факт продажи, шт
  • Выполнение плана, %
  • Плановые продажи, руб
  • Факт продажи, руб
  • Выполнение плана, %

Затраты (план и факт):
  • Листинг/безусловные выплаты, руб
  • Скидка в цене, руб
  • Ретро, руб
  • Маркетинг, руб
  • Промо-скидка, руб
  • Общие затраты, руб

Финансы:
  • Доход план, руб
  • Доход факт, руб

ИТОГО: 19 столбцов с полной детализацией!

═══════════════════════════════════════════════════════════════════════════════

🎨 ИНТЕРФЕЙС

┌─────────────────────────────────────────────────────────────────────────────┐
│ 📊 BI Dashboard - Детальный анализ по контрактам и SKU                     │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔍 ФИЛЬТРЫ:                                                                 │
│   [Выберите контракт ▼]  [Выберите сеть ▼]  [Выберите SKU ▼]             │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📄 Информация о контракте (при выборе контракта)                           │
│   🏪 Сеть: ...                                                              │
│   📅 Начало: 01.09.2022  📅 Конец: 28.02.2023  📊 Статус: действующий     │
├─────────────────────────────────────────────────────────────────────────────┤
│ 💰 Продажи    │ 💵 Доход      │ 💸 Затраты    │ 📊 Рентабельность │
│ План/Факт     │ План/Факт     │ План/Факт     │ %                 │
├─────────────────────────────────────────────────────────────────────────────┤
│ Детальные карточки затрат (6 типов)                                        │
│ Листинг │ Скидка │ Ретро │ Маркетинг │ Промо │ Фонды │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📈 График план/факт продаж по месяцам                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│ 💸 Затраты детально          │ 💵 Доход и рентабельность           │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 Детальная разбивка по SKU (ТАБЛИЦА)                                     │
│ [Сортировка] [Фильтрация] [Export 📥]                                      │
│ ┌──────────────┬────────────┬─────────────┬───────────────┐               │
│ │ Brand_format │ План (шт)  │ Факт (шт)   │ Выполнение, % │ ...           │
│ ├──────────────┼────────────┼─────────────┼───────────────┤               │
│ │ E-ON 0.45    │ 1,000,000  │   800,000   │     80.0%     │ ...           │
│ └──────────────┴────────────┴─────────────┴───────────────┘               │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🥤 ТОП-15 SKU по продажам (график)                                          │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

💡 СОВЕТЫ

1. Комбинируйте фильтры
   └─ Контракт + SKU = анализ продукта в контракте
   └─ Сеть + SKU = анализ продукта по всем контрактам сети
   └─ Все фильтры = максимальная детализация

2. Используйте таблицу
   └─ Кликните на заголовок для сортировки
   └─ Введите текст в поле под заголовком для фильтрации
   └─ Экспортируйте в Excel для работы в офлайн

3. Цветовая индикация
   └─ 🟢 Зеленый = выполнение плана ≥ 100%
   └─ 🔴 Красный = выполнение плана < 100%

4. Интерактивность
   └─ Наведите курсор на график для деталей
   └─ Выделите область мышью для zoom
   └─ Двойной клик для сброса zoom

═══════════════════════════════════════════════════════════════════════════════

🔄 СРАВНЕНИЕ ВЕРСИЙ

┌────────────────────────┬──────────────┬─────────────────────┐
│ Функция                │ Базовая      │ Расширенная         │
├────────────────────────┼──────────────┼─────────────────────┤
│ Порт                   │ 8050         │ 8051                │
│ Фильтр по контрактам   │ ❌           │ ✅                  │
│ Даты контракта         │ ❌           │ ✅                  │
│ Фильтр по сетям        │ ❌           │ ✅                  │
│ Фильтр по SKU          │ ❌           │ ✅                  │
│ Детальные карточки     │ ❌           │ ✅ (6 типов затрат) │
│ Таблица по SKU         │ ❌           │ ✅                  │
│ Экспорт в Excel        │ ❌           │ ✅                  │
│ Общая аналитика        │ ✅           │ ✅                  │
│ ТОП-15 сетей           │ ✅           │ -                   │
│ ТОП-15 продуктов       │ ✅           │ ✅ (фильтруется)    │
└────────────────────────┴──────────────┴─────────────────────┘

Выбирайте в зависимости от задачи:
  • Общий обзор → Базовая версия
  • Детальный анализ → Расширенная версия ⭐

═══════════════════════════════════════════════════════════════════════════════

📁 НОВЫЕ ФАЙЛЫ

Добавлено в проект:
  ✅ bi_dashboard_advanced.py         - Расширенный дашборд
  ✅ run_dashboard_advanced.bat       - Быстрый запуск (Windows)
  ✅ ADVANCED_FEATURES.md             - Полная документация
  ✅ NEW_FEATURES.txt                 - Этот файл

Обновлено:
  📝 start.bat                        - Добавлен пункт 2
  📝 START_HERE.md                    - Упоминание новой версии

═══════════════════════════════════════════════════════════════════════════════

🎯 БЫСТРЫЙ СТАРТ

Хотите попробовать прямо сейчас?

1. Откройте командную строку в папке с файлами
2. Введите: python bi_dashboard_advanced.py
3. Откройте браузер: http://localhost:8051
4. Выберите контракт в dropdown меню
5. Увидите все его данные!

Или еще проще:
1. Дважды кликните: run_dashboard_advanced.bat
2. Готово!

═══════════════════════════════════════════════════════════════════════════════

📞 ПОМОЩЬ

Проблемы с запуском?
  1. Убедитесь, что базовая версия работает
  2. Проверьте, что все библиотеки установлены
  3. Порт должен быть 8051 (не 8050!)
  4. Читайте ADVANCED_FEATURES.md

Вопросы по использованию?
  1. Откройте ADVANCED_FEATURES.md - полная инструкция
  2. Смотрите примеры работы с фильтрами
  3. Изучите раздел "Как использовать?"

═══════════════════════════════════════════════════════════════════════════════

✨ ЭТО ИМЕННО ТО, ЧТО ВЫ ПРОСИЛИ!

✅ Выбор каждого контракта
✅ Даты начала и конца контракта
✅ Детализация до каждого SKU
✅ Все плановые расходы
✅ Все фактические расходы
✅ Экспорт в Excel

Теперь вы можете:
  • Анализировать каждый контракт отдельно
  • Видеть все даты и статусы
  • Работать с каждым SKU
  • Контролировать все расходы
  • Экспортировать данные для отчетов

═══════════════════════════════════════════════════════════════════════════════

🎉 ПРИЯТНОГО ИСПОЛЬЗОВАНИЯ!

Запустите расширенную версию и оцените новые возможности!

  Windows:    run_dashboard_advanced.bat
  Все ОС:     python bi_dashboard_advanced.py
  Браузер:    http://localhost:8051

═══════════════════════════════════════════════════════════════════════════════
